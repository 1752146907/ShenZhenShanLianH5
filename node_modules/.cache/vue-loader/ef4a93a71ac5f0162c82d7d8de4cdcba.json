{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/h5/src/view/my/password/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/h5/src/view/my/password/index.vue","mtime":1572538946809},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { DropdownMenu, DropdownItem, Toast } from 'vant';\nimport mixins from '../../../common/mixin';\nimport navBar from '../../../component/navBar';\n\nexport default {\n    components: {\n        DropdownMenu,\n        DropdownItem,\n        Toast,\n        navBar\n    },\n    mixins: [mixins],\n    data: () => ({\n        old_password: '',\n        new_password: '',\n        isActivw: false\n    }),\n    created() {\n    },\n    // 设置路由钩子，存储页面来源\n    beforeRouteEnter(to, from, next) {\n        next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n            sessionStorage.setItem('url_from', from.path);\n        })\n    },\n    methods: {\n        handleGetStatus: function (value) {\n            if(this.old_password.length > 0 & this.new_password.length > 0) {\n                this.isActivw = true;\n            } else{\n                this.isActivw = false;\n            }\n        },\n        handleSubmit: function () {\n            Toast.loading({\n                mask: true,\n                message: '修改中...'\n            });\n            this.request({\n                url: 'api/password',\n                method: 'PATCH',\n                data: {\n                    old_password: this.old_password,\n                    new_password: this.new_password\n                },\n                success: (response) => {\n                    Toast.success('修改成功');\n\n                    this.handleBack();\n                },\n                error: (response) => {\n                },\n                complete: () => {\n                    Toast.clear();\n                }\n            });\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/my/password","sourcesContent":["<template>\n    <div class=\"login\">\n        <navBar title=\"修改密码\"></navBar>\n        <div class=\"from\">\n            <div class=\"from-item\">\n                <div class=\"from-item-title\">旧密码</div>\n                <div class=\"from-item-code\">\n                    <div class=\"left\">\n                        <input type=\"password\" @input=\"handleGetStatus\" v-model=\"old_password\" placeholder=\"请输入密码\" />\n                    </div>\n                </div>\n            </div>\n            <!--<p class=\"from-tip\">密码必须是8-16位数字加大小写字母。</p>-->\n            <div class=\"from-item\">\n                <div class=\"from-item-title\">新密码</div>\n                <div class=\"from-item-code\">\n                    <div class=\"left\">\n                        <input type=\"password\" @input=\"handleGetStatus\" v-model=\"new_password\" placeholder=\"请输入新密码\" />\n                    </div>\n                </div>\n            </div>\n            <div v-if=\"!isActivw\" class=\"from-submit\">确认修改</div>\n            <div v-else class=\"from-submit-active\" @click=\"handleSubmit\">确认修改</div>\n        </div>\n    </div>\n</template>\n\n<style src=\"./index.css\" scoped></style>\n\n<script>\n    import { DropdownMenu, DropdownItem, Toast } from 'vant';\n    import mixins from '../../../common/mixin';\n    import navBar from '../../../component/navBar';\n\n    export default {\n        components: {\n            DropdownMenu,\n            DropdownItem,\n            Toast,\n            navBar\n        },\n        mixins: [mixins],\n        data: () => ({\n            old_password: '',\n            new_password: '',\n            isActivw: false\n        }),\n        created() {\n        },\n        // 设置路由钩子，存储页面来源\n        beforeRouteEnter(to, from, next) {\n            next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n                sessionStorage.setItem('url_from', from.path);\n            })\n        },\n        methods: {\n            handleGetStatus: function (value) {\n                if(this.old_password.length > 0 & this.new_password.length > 0) {\n                    this.isActivw = true;\n                } else{\n                    this.isActivw = false;\n                }\n            },\n            handleSubmit: function () {\n                Toast.loading({\n                    mask: true,\n                    message: '修改中...'\n                });\n                this.request({\n                    url: 'api/password',\n                    method: 'PATCH',\n                    data: {\n                        old_password: this.old_password,\n                        new_password: this.new_password\n                    },\n                    success: (response) => {\n                        Toast.success('修改成功');\n\n                        this.handleBack();\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n                        Toast.clear();\n                    }\n                });\n            }\n        }\n    }\n</script>\n"]}]}