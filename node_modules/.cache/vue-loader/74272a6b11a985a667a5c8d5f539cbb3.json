{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/src/view/login/password/setPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/src/view/login/password/setPassword.vue","mtime":1572538946796},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Toast } from 'vant';\nimport mixins from '../../../common/mixin';\nimport navBar from '../../../component/navBarTwo';\n\nexport default {\n    components: {\n        Toast,\n        navBar\n    },\n    mixins: [mixins],\n    data: () => ({\n        code: '',               // 验证码\n        password: \"\",           // 密码\n        password_again: \"\",      // 确认密码\n        errorCode: '',           // 错误提示\n        isActivw: false         // 是否激活登录按钮\n    }),\n    created() {\n        if(this.$route.query.code){\n            this.code = this.$route.query.code\n        }\n    },\n    methods: {\n        // 判断输入状态\n        handleGetStatus: function (value) {\n             if(value == 1) {\n                 this.handleCheckPassword();\n             } else{\n                 this.handleCheckPasswordAgain();\n             }\n        },\n        handleCheckPassword: function () {\n            if(!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,18}$/.test(this.password)) {\n                this.errorCode = '请输入6-18位字符，必须包含字母和数字';\n                return false;\n            } else{\n                this.errorCode = '';\n                return true\n            }\n        },\n        handleCheckPasswordAgain: function () {\n            if(JSON.stringify(this.password) != JSON.stringify(this.password_again)) {\n                this.errorCode = '两次输入密码不一致';\n                return false;\n            } else{\n                this.errorCode = '';\n                return true\n            }\n        },\n        // 提交修改\n        handleSubmit: function () {\n            this.handleCheckPassword();\n            if(this.handleCheckPassword()) {\n                this.handleCheckPasswordAgain();\n            }\n            if(this.handleCheckPassword() && this.handleCheckPasswordAgain()) {\n                this.request({\n                    url: 'api/password',\n                    method: 'PUT',\n                    data: {\n                        code: this.code,\n                        password: this.password,\n                        password_again: this.password_again\n                    },\n                    success: (response) => {\n                        this.$toast.center('设置成功');\n\n                        this.$router.replace({\n                            path: decodeURIComponent(this.$route.query.collBack),\n                            query: {}\n                        });\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: () => {\n                        Toast.clear();\n                    }\n                });\n            }\n        }\n    }\n}\n",{"version":3,"sources":["setPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setPassword.vue","sourceRoot":"src/view/login/password","sourcesContent":["<template>\n    <div class=\"login\">\n        <navBar title=\"重置密码\"></navBar>\n        <div class=\"login\">\n            <div class=\"login-hender\">\n                <img src=\"../../../image/login.png\" alt=\"\">\n            </div>\n            <div class=\"login-body\">\n                <div class=\"title\">重置密码</div>\n                <div class=\"input margin-bottom-49\">\n                    <input maxlength=\"18\" type=\"password\" @input=\"handleGetStatus(1)\" @focus=\"handleInputBlurBack\" v-model=\"password\" placeholder=\"请设置新登录密码\" />\n                </div>\n                <div class=\"input\">\n                    <input maxlength=\"18\" type=\"password\" @input=\"handleGetStatus(2)\" @focus=\"handleInputBlurBack\" v-model=\"password_again\" placeholder=\"请确认新登录密码\" />\n                </div>\n                <div class=\"login-body-tisp\">{{errorCode}}</div>\n                <div class=\"next\" @click=\"handleSubmit\">完成</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style src=\"./setPassword.css\" scoped></style>\n\n<script>\n    import { Toast } from 'vant';\n    import mixins from '../../../common/mixin';\n    import navBar from '../../../component/navBarTwo';\n\n    export default {\n        components: {\n            Toast,\n            navBar\n        },\n        mixins: [mixins],\n        data: () => ({\n            code: '',               // 验证码\n            password: \"\",           // 密码\n            password_again: \"\",      // 确认密码\n            errorCode: '',           // 错误提示\n            isActivw: false         // 是否激活登录按钮\n        }),\n        created() {\n            if(this.$route.query.code){\n                this.code = this.$route.query.code\n            }\n        },\n        methods: {\n            // 判断输入状态\n            handleGetStatus: function (value) {\n                 if(value == 1) {\n                     this.handleCheckPassword();\n                 } else{\n                     this.handleCheckPasswordAgain();\n                 }\n            },\n            handleCheckPassword: function () {\n                if(!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,18}$/.test(this.password)) {\n                    this.errorCode = '请输入6-18位字符，必须包含字母和数字';\n                    return false;\n                } else{\n                    this.errorCode = '';\n                    return true\n                }\n            },\n            handleCheckPasswordAgain: function () {\n                if(JSON.stringify(this.password) != JSON.stringify(this.password_again)) {\n                    this.errorCode = '两次输入密码不一致';\n                    return false;\n                } else{\n                    this.errorCode = '';\n                    return true\n                }\n            },\n            // 提交修改\n            handleSubmit: function () {\n                this.handleCheckPassword();\n                if(this.handleCheckPassword()) {\n                    this.handleCheckPasswordAgain();\n                }\n                if(this.handleCheckPassword() && this.handleCheckPasswordAgain()) {\n                    this.request({\n                        url: 'api/password',\n                        method: 'PUT',\n                        data: {\n                            code: this.code,\n                            password: this.password,\n                            password_again: this.password_again\n                        },\n                        success: (response) => {\n                            this.$toast.center('设置成功');\n\n                            this.$router.replace({\n                                path: decodeURIComponent(this.$route.query.collBack),\n                                query: {}\n                            });\n                        },\n                        error: (response) => {\n\n                        },\n                        complete: () => {\n                            Toast.clear();\n                        }\n                    });\n                }\n            }\n        }\n    }\n</script>\n"]}]}