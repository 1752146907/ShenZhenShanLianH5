{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/h5/src/view/my/task/indexOrder/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/h5/src/view/my/task/indexOrder/index.vue","mtime":1572538946825},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Toast, ImagePreview } from 'vant';\nimport mixins from '../../../../common/mixin';\nimport navBar from '../../../../component/navBar';\n\nexport default {\n    components: {\n        Toast,\n        navBar,\n        ImagePreview\n    },\n    mixins: [mixins],\n    data: () => ({\n        taskStatus: {},                                 // 任务状态(1/2{未领取/已领取})\n        codeImagesIsShow: false,\n        codeImages: [require('../image/code.jpg')]\n    }),\n    mounted() {\n        this.handleLoad()\n    },\n    methods: {\n        // 初始化\n        handleLoad: function () {\n            this.request({\n                url: 'api/task',\n                method: 'PATCH',\n                data: {\n                    \"type\": 2\n                },\n                success: (response) => {\n                    this.taskStatus = response;\n                },\n                error: (response) => {\n                },\n                complete: () => {\n                }\n            });\n        },\n        // 刷新任务状态\n        handleRefresh: function () {\n            this.request({\n                url: 'api/task',\n                method: 'PATCH',\n                data: {\n                    \"type\": 2\n                },\n                success: (response) => {\n                    this.taskStatus = response;\n\n                    setTimeout(() => {\n                        Toast(this.taskStatus.status_text.text)\n                    }, 300)\n                },\n                error: (response) => {\n                },\n                complete: () => {\n                }\n            });\n        },\n        // 接任务\n        handleTask: function () {\n            this.request({\n                url: 'api/task',\n                method: 'PUT',\n                data: {\n                    \"type\": 2\n                },\n                success: (response) => {\n                    this.$toast.center('任务领取成功');\n\n                    this.handleLoad();\n                },\n                error: (response) => {\n                },\n                complete: () => {\n                }\n            });\n        },\n        // 完成成任务\n        handleSuccess: function () {\n            this.request({\n                url: 'api/task',\n                method: 'DELETE',\n                data: {\n                    \"type\": 2\n                },\n                success: (response) => {\n                    this.$toast.center('奖励领取成功');\n\n                    this.handleBack();\n                },\n                error: (response) => {\n                },\n                complete: () => {\n                }\n            });\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/my/task/indexOrder","sourcesContent":["<template>\n    <div>\n        <navBar class=\"orderNavBar\" title=\"首单消费奖励\"></navBar>\n        <div class=\"task\">\n            <div class=\"task-hender\">\n                <img src=\"../image/code.jpg\" @click=\"codeImagesIsShow = true\" alt=\"\">\n            </div>\n            <div class=\"task-body\">\n                <div class=\"title\">活动流程</div>\n                <div class=\"procedure\">\n                    <div class=\"procedure-item\">\n                        <div class=\"number\">1</div>\n                        <div class=\"text\">领取任务</div>\n                        <div class=\"line\"></div>\n                    </div>\n                    <div class=\"procedure-item\">\n                        <div class=\"number\">2</div>\n                        <div class=\"text\">去往缤纷集</div>\n                        <div class=\"line\"></div>\n                    </div>\n                    <div class=\"procedure-item\">\n                        <div class=\"number\">3</div>\n                        <div class=\"text\">确认收货</div>\n                        <div class=\"line\"></div>\n                    </div>\n                    <div class=\"procedure-item\">\n                        <div class=\"number\">4</div>\n                        <div class=\"text\">资产到账</div>\n                        <div class=\"line\"></div>\n                    </div>\n                </div>\n                <div class=\"conten\">\n                    <p>任务奖励：200 UTD/人</p>\n                    <p>参与流程：</p>\n                    <p>1.用户在当前页面领取缤纷集首单消费任务</p>\n                    <p>2.微信扫描上方二维码，进入小程序【缤纷集】</p>\n                    <p>3.授权登录之后绑定手机，在平台消费任意金额</p>\n                    <p>4.在缤纷集上确认收货 </p>\n                    <p>5.确认收货七天后奖励自动到账</p>\n                    <p>如果订单发生售后退款，将会失去任务资格。</p>\n                    <p>领取任务后的首单消费成功才有效哦</p>\n                </div>\n            </div>\n            <div class=\"next\" v-if=\"taskStatus.is_received == 1 && taskStatus.status_text.value != 3\" @click=\"handleTask\">领取任务</div>\n            <div class=\"next\" v-if=\"taskStatus.is_received == 2 && taskStatus.status_text.value != 3\" @click=\"handleRefresh\">刷新任务状态</div>\n            <div class=\"next\" v-if=\"taskStatus.is_received == 2 && taskStatus.status_text.value == 3\" @click=\"handleSuccess\">奖励领取</div>\n        </div>\n        <van-image-preview\n                v-model=\"codeImagesIsShow\"\n                :images=\"codeImages\"\n         />\n    </div>\n</template>\n\n<style src=\"./index.css\" scoped></style>\n<style>\n    .orderNavBar{\n        background: rgba(41, 66, 151, 1);\n        color: #fff!important;\n    }\n    .orderNavBar .bar-box{\n        color: #fff;\n    }\n</style>\n<script>\n    import {Toast, ImagePreview } from 'vant';\n    import mixins from '../../../../common/mixin';\n    import navBar from '../../../../component/navBar';\n\n    export default {\n        components: {\n            Toast,\n            navBar,\n            ImagePreview\n        },\n        mixins: [mixins],\n        data: () => ({\n            taskStatus: {},                                 // 任务状态(1/2{未领取/已领取})\n            codeImagesIsShow: false,\n            codeImages: [require('../image/code.jpg')]\n        }),\n        mounted() {\n            this.handleLoad()\n        },\n        methods: {\n            // 初始化\n            handleLoad: function () {\n                this.request({\n                    url: 'api/task',\n                    method: 'PATCH',\n                    data: {\n                        \"type\": 2\n                    },\n                    success: (response) => {\n                        this.taskStatus = response;\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n                    }\n                });\n            },\n            // 刷新任务状态\n            handleRefresh: function () {\n                this.request({\n                    url: 'api/task',\n                    method: 'PATCH',\n                    data: {\n                        \"type\": 2\n                    },\n                    success: (response) => {\n                        this.taskStatus = response;\n\n                        setTimeout(() => {\n                            Toast(this.taskStatus.status_text.text)\n                        }, 300)\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n                    }\n                });\n            },\n            // 接任务\n            handleTask: function () {\n                this.request({\n                    url: 'api/task',\n                    method: 'PUT',\n                    data: {\n                        \"type\": 2\n                    },\n                    success: (response) => {\n                        this.$toast.center('任务领取成功');\n\n                        this.handleLoad();\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n                    }\n                });\n            },\n            // 完成成任务\n            handleSuccess: function () {\n                this.request({\n                    url: 'api/task',\n                    method: 'DELETE',\n                    data: {\n                        \"type\": 2\n                    },\n                    success: (response) => {\n                        this.$toast.center('奖励领取成功');\n\n                        this.handleBack();\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n                    }\n                });\n            }\n        }\n    }\n</script>\n"]}]}