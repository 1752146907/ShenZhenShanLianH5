{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/src/view/wallet/addres/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/src/view/wallet/addres/index.vue","mtime":1572538946851},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport countTo from 'vue-count-to';\nimport mixins from '../../../common/mixin';\nimport navBar from '../../../component/navBar';\n\nexport default {\n    components: {\n        countTo,\n        navBar\n    },\n    mixins: [mixins],\n    data: () => ({\n        page: 1,\n        size: 15,\n        List: [],\n        addresList: [],\n        loading: false,         // 滚动加载参数\n        finished: false         // 滚动加载参数\n    }),\n    created() {\n\n    },\n    mounted() {\n        this.handleLoad();\n    },\n    // 设置路由钩子，存储页面来源\n    beforeRouteEnter(to, from, next) {\n        next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n            sessionStorage.setItem('url_from', from.path);\n        })\n    },\n    methods: {\n        // 下拉加载\n        rollLoad: function() {\n            if(this.List.length < this.addresList.total) {\n                this.page += 1;\n                this.handleLoad();\n            } else{\n                this.loading = false;\n                this.finished = true;\n            }\n        },\n        handleLoad: function () {\n            this.request({\n                url: 'api/address',\n                method: 'GET',\n                data: {\n                    currency_id: this.$route.query.id,\n                    size: this.size,\n                    page: this.page\n                },\n                success: (response) => {\n                    this.List = this.List.concat(response.data);\n                    this.addresList = response;\n                },\n                error: (response) => {\n\n                },\n                complete: (response) => {\n                    // 关闭列表滚动\n                    this.loading = false;\n                    if(this.List.length >= this.addresList.total){\n                        this.finished = true;\n                    }\n                }\n            });\n        },\n        handleEdit: function () {\n            this.$router.push({\n                path: '/walletAddresEdit',\n                query: {\n                    title: this.$route.query.title,\n                    id: this.$route.query.id\n                }\n            });\n        },\n        handleAdd: function () {\n            this.$router.push({\n                path: '/walletAddresDetail',\n                query: {\n                    title: this.$route.query.title,\n                    id: this.$route.query.id,\n                    amount: this.$route.query.amount\n                }\n            });\n        },\n        handleCollAddres: function (item) {\n            this.$router.replace({\n                path: '/walletExtract',\n                query: {\n                    id: this.$route.query.id,\n                    title: this.$route.query.title,\n                    addres: item.address,\n                    amount: this.$route.query.amount\n                }\n            });\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/wallet/addres","sourcesContent":["<template>\n    <div class=\"addres addres-index\">\n        <div class=\"navBar\">\n            <navBar title=\"选择地址\"></navBar>\n            <span class=\"edit\" @click=\"handleEdit\">编辑</span>\n        </div>\n        <van-list v-model=\"loading\"\n                  :finished=\"finished\"\n                  :offset=\"100\"\n                  :immediate-check=\"false\"\n                  finished-text=\"没有更多了\"\n                  @load=\"rollLoad\" >\n            <div class=\"addres-title\">\n                <div class=\"addres-left\">\n                    名称\n                </div>\n                <div class=\"addres-right\">\n                    地址\n                </div>\n            </div>\n                <div class=\"addres-body\">\n                    <div class=\"addres-body-item\"\n                         v-for=\"item in List\"\n                         :key=\"item.id\"\n                         @click=\"handleCollAddres(item)\" >\n                        <div class=\"title\">{{item.name}}</div>\n                        <div class=\"addres\">{{item.address}}</div>\n                    </div>\n                </div>\n            <div class=\"from\">\n                <div class=\"from-submit\" @click=\"handleAdd\">新增地址</div>\n            </div>\n        </van-list>\n    </div>\n</template>\n\n<style src=\"./index.css\" scoped></style>\n\n<script>\n    import countTo from 'vue-count-to';\n    import mixins from '../../../common/mixin';\n    import navBar from '../../../component/navBar';\n\n    export default {\n        components: {\n            countTo,\n            navBar\n        },\n        mixins: [mixins],\n        data: () => ({\n            page: 1,\n            size: 15,\n            List: [],\n            addresList: [],\n            loading: false,         // 滚动加载参数\n            finished: false         // 滚动加载参数\n        }),\n        created() {\n\n        },\n        mounted() {\n            this.handleLoad();\n        },\n        // 设置路由钩子，存储页面来源\n        beforeRouteEnter(to, from, next) {\n            next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n                sessionStorage.setItem('url_from', from.path);\n            })\n        },\n        methods: {\n            // 下拉加载\n            rollLoad: function() {\n                if(this.List.length < this.addresList.total) {\n                    this.page += 1;\n                    this.handleLoad();\n                } else{\n                    this.loading = false;\n                    this.finished = true;\n                }\n            },\n            handleLoad: function () {\n                this.request({\n                    url: 'api/address',\n                    method: 'GET',\n                    data: {\n                        currency_id: this.$route.query.id,\n                        size: this.size,\n                        page: this.page\n                    },\n                    success: (response) => {\n                        this.List = this.List.concat(response.data);\n                        this.addresList = response;\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n                        // 关闭列表滚动\n                        this.loading = false;\n                        if(this.List.length >= this.addresList.total){\n                            this.finished = true;\n                        }\n                    }\n                });\n            },\n            handleEdit: function () {\n                this.$router.push({\n                    path: '/walletAddresEdit',\n                    query: {\n                        title: this.$route.query.title,\n                        id: this.$route.query.id\n                    }\n                });\n            },\n            handleAdd: function () {\n                this.$router.push({\n                    path: '/walletAddresDetail',\n                    query: {\n                        title: this.$route.query.title,\n                        id: this.$route.query.id,\n                        amount: this.$route.query.amount\n                    }\n                });\n            },\n            handleCollAddres: function (item) {\n                this.$router.replace({\n                    path: '/walletExtract',\n                    query: {\n                        id: this.$route.query.id,\n                        title: this.$route.query.title,\n                        addres: item.address,\n                        amount: this.$route.query.amount\n                    }\n                });\n            }\n        }\n    }\n</script>\n"]}]}