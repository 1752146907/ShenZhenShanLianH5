{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/src/view/wallet/transfer/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/src/view/wallet/transfer/index.vue","mtime":1572538946859},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport navBar from '../../../component/navBar';\nimport mixins from '../../../common/mixin';\nimport { Toast } from 'vant';\nexport default {\n    components: {\n        navBar,\n        Toast\n    },\n    mixins: [mixins],\n    data: () => ({\n        mobile:\"\",   //手机号码\n        userInfo:[]   //用户信息\n    }),\n    created() {\n\n    },\n    mounted(){\n           this.handleGetUserInfo()\n    },\n    methods:{\n        // 初始化用户信息\n        handleGetUserInfo: function() {\n            this.request({\n                url: 'api/user',\n                method: 'GET',\n                data: { },\n                success: (response) => {\n                    this.userInfo = response;\n                },\n                error: (response) => {\n\n                },\n                complete: (response) => {\n                }\n            });\n        },\n        transferButton:function () {\n            this.request({\n                url: 'api/transfer-search',\n                method: 'GET',\n                data: {\n                  mobile:this.mobile\n                },\n                success: (response) => {\n                    if(this.userInfo.status == 1) {\n                        this.$toast.center('请先认证身份');\n                        this.$router.push({\n                            path: '/identity',\n                            query: {\n                                status: this.userInfo.status,\n                                datum: JSON.stringify(this.userInfo.datum),\n                                name: this.userInfo.name,\n                                id_card: this.userInfo.id_card\n                            }\n                        });\n                    } else if(this.userInfo.status == 2) {\n                        this.$toast.center('身份正在审核，请耐心等待');\n                    } else if(this.userInfo.status == 3) {\n\n                        if(this.userInfo.mobile === this.mobile){\n                            this.$toast.center('不可向自己转账');\n                        }\n                        else {\n                            if(response.status === 3){\n                                this.$router.push({\n                                    path:\"/wallet/message\",\n                                    query: {\n                                        id: this.$route.query.id,\n                                        mobile:response.mobile,\n                                        name:response.name,\n                                        userId:response.id\n                                    }\n                                })\n                            }\n                            else {\n                                this.$toast.center('对方账户未实名认证');\n                            }\n                        }\n\n                    } else if(this.userInfo.status == 4) {\n                        this.$router.push({\n                            path: '/identityError',\n                            query: {\n                                break: this.userInfo.audit ? this.userInfo.audit.break : ''\n                            }\n                        });\n                    }\n\n\n\n\n\n\n\n\n\n                },\n                error: (response) => {\n\n                },\n                complete: (response) => {\n\n                }\n            });\n\n        },\n        record(){\n            this.$router.push({\n                path:\"/wallet/record\"\n            })\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAUA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/wallet/transfer","sourcesContent":["<template>\n    <div class=\"transfer\">\n        <navBar title=\"转账\" class=\"transferBottom\"/>\n         <div class=\"shopkeeper\" @click=\"record\">转账记录</div>\n        <div class=\"theTransfer\">\n            <p>对方账户</p>\n            <input type=\"text\" maxlength=\"11\"  placeholder=\"手机号码\"  v-model=\"mobile\"/>\n        </div>\n        <p class=\"transferText\">资产将实时转入对方账户，无法退还</p>\n        <div class=\"transferButton\" @click=\"transferButton\">\n            下一步\n        </div>\n    </div>\n</template>\n<style src=\"./index.css\" scoped></style>\n<script>\n    import navBar from '../../../component/navBar';\n    import mixins from '../../../common/mixin';\n    import { Toast } from 'vant';\n    export default {\n        components: {\n            navBar,\n            Toast\n        },\n        mixins: [mixins],\n        data: () => ({\n            mobile:\"\",   //手机号码\n            userInfo:[]   //用户信息\n        }),\n        created() {\n\n        },\n        mounted(){\n               this.handleGetUserInfo()\n        },\n        methods:{\n            // 初始化用户信息\n            handleGetUserInfo: function() {\n                this.request({\n                    url: 'api/user',\n                    method: 'GET',\n                    data: { },\n                    success: (response) => {\n                        this.userInfo = response;\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n                    }\n                });\n            },\n            transferButton:function () {\n                this.request({\n                    url: 'api/transfer-search',\n                    method: 'GET',\n                    data: {\n                      mobile:this.mobile\n                    },\n                    success: (response) => {\n                        if(this.userInfo.status == 1) {\n                            this.$toast.center('请先认证身份');\n                            this.$router.push({\n                                path: '/identity',\n                                query: {\n                                    status: this.userInfo.status,\n                                    datum: JSON.stringify(this.userInfo.datum),\n                                    name: this.userInfo.name,\n                                    id_card: this.userInfo.id_card\n                                }\n                            });\n                        } else if(this.userInfo.status == 2) {\n                            this.$toast.center('身份正在审核，请耐心等待');\n                        } else if(this.userInfo.status == 3) {\n\n                            if(this.userInfo.mobile === this.mobile){\n                                this.$toast.center('不可向自己转账');\n                            }\n                            else {\n                                if(response.status === 3){\n                                    this.$router.push({\n                                        path:\"/wallet/message\",\n                                        query: {\n                                            id: this.$route.query.id,\n                                            mobile:response.mobile,\n                                            name:response.name,\n                                            userId:response.id\n                                        }\n                                    })\n                                }\n                                else {\n                                    this.$toast.center('对方账户未实名认证');\n                                }\n                            }\n\n                        } else if(this.userInfo.status == 4) {\n                            this.$router.push({\n                                path: '/identityError',\n                                query: {\n                                    break: this.userInfo.audit ? this.userInfo.audit.break : ''\n                                }\n                            });\n                        }\n\n\n\n\n\n\n\n\n\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n\n                    }\n                });\n\n            },\n            record(){\n                this.$router.push({\n                    path:\"/wallet/record\"\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}