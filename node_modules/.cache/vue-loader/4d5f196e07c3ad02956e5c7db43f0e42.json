{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/h5/src/view/plus/shopx/order/detailed.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/h5/src/view/plus/shopx/order/detailed.vue","mtime":1572538946846},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport navBar from '../../../../component/navBar';\nimport mixins from '../../../../common/mixin';\nimport { Icon ,CountDown ,Toast,Dialog  } from 'vant';\nimport countTo from 'vue-count-to';\nexport default {\n    components:{\n        navBar,\n        Icon,\n        CountDown,\n        countTo,\n        Toast,\n        Dialog\n    },\n    mixins: [mixins],\n    data: () => ({\n        time: \"\",\n        show: false,\t\t// 是否激活支付按钮\n        code:\"\",                 //短信验证码\n        codeTime: 60,                   // 手机倒计时\n        isCode: false,                  // 是否显示发生验证码\n        switcha:true,\n        isActivw: false,\t\t// 是否激活支付按钮\n        icon:3,\n        information:{},         //订单信息\n        orderAmount:{},\n        support:[],                  //支持的付款方式\n        unit: \"UTD\",      //单位\n        orderID:\"\" ,     //订单ID\n        commodity:\"\"  //商品名称\n    }),\n    created () {\n\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n            sessionStorage.setItem('url_from', from.path);\n        })\n    },\n    mounted(){\n     this.orderDetailed();\n        this.orderID =this.$route.query.id;\n    },\n    methods: {\n        //查看物流\n        handexpress:function () {\n            this.$router.push({\n                path:\"/plus/shopx/order/express\",\n                query: {\n                    id:this.$route.query.id\n                }\n            })\n        },\n        //确认收货\n        takeDelivery:function () {\n            this.request({\n                url: 'api/store/orders',\n                method: 'PATCH',\n                data: {\n                    id:this.$route.query.id,\n                },\n                success: (response) => {\n                    this.orderDetailed();\n\n                },\n                error: (response) => {\n                },\n                complete: () => {\n\n                }\n            });\n        },\n        //取消订单\n        cancelOrder:function () {\n            Dialog.confirm({\n                confirmButtonColor:\"rgba(255, 49, 16, 1)\",\n                title: '提示',\n                message: '确认取消订单'\n            }).then(() => {\n                this.request({\n                    url: 'api/store/order',\n                    method: 'DELETE',\n                    data: {\n                        id:this.$route.query.id,\n\n                    },\n                    success: (response) => {\n                        this.orderDetailed();\n\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n\n                    }\n                });\n            }).catch(() => {\n                // on cancel\n            });\n        },\n        // 复制成功\n        handleOnCopy: function (e) {\n            this.$toast.center('复制成功！');\n        },\n        // 复制失败\n        handleOnError: function (e) {\n            this.$toast.center('复制失败，请稍后重试');\n        },\n        //订单信息\n        orderDetailed:function () {\n            this.request({\n                url: 'api/store/orders',\n                method: 'POST',\n                data: {\n                    id:this.$route.query.id,\n\n                },\n                success: (response) => {\n                    this.information = response;\n                    if(response.goods[0].name.length >34){\n                        this.commodity =response.goods[0].name.substring(0,34)+ \"...\"\n                    }else {\n                        this.commodity =response.goods[0].name\n                    }\n                    this.time=(Number(this.information.pay_remain_time+'000'));\n\n\n\n                },\n                error: (response) => {\n                },\n                complete: () => {\n\n                }\n            });\n        },\n        shopkeeperImg:function () {\n            this.$router.push({\n                path:\"/plus/shopx/order/orderList\"\n            })\n        },\n        //处理软键盘导致弹框里的按钮响应区域错位\n        scrollBack: function () {\n            setTimeout(function() {\n                var scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;\n                window.scrollTo(0, Math.max(scrollHeight - 1, 0));\n            }, 100);\n        },\n\n        showPopup:function () {\n            //获取订单是否超时\n            this.request({\n                url: 'api/store/orders',\n                method: 'POST',\n                data: {\n                    id:this.$route.query.id,\n\n                },\n                success: (response) => {\n                    if(response.pay_remain_time == null){\n                        this.$toast.center('订单已超时无法付款！');\n                    }\n                  else {\n                        //获取订单支持币种默认选择第一个\n                        this.request({\n                            url: 'api/store/goods',\n                            method: 'POST',\n                            data: {\n                                id:this.information.goods[0].goods_id,\n\n                            },\n                            success: (response) => {\n                                this.support =response.detail.available_pay_type;\n                                if (response.detail.available_pay_type[0] == 1) {\n                                    this.icon = 1;\n                                    this.unit = \"ETH\";\n                                }\n                                if (response.detail.available_pay_type[0] == 2) {\n                                    this.icon = 2;\n                                    this.unit = \"INE\";\n                                }\n                                if (response.detail.available_pay_type[0] == 3) {\n                                    this.icon = 3;\n                                    this.unit = \"UTD\";\n                                }\n                                //支付信息前置\n                                this.request({\n                                    url: 'api/store/order',\n                                    method: 'PUT',\n                                    data: {\n                                        id:this.$route.query.id,\n                                        pay_type:response.detail.available_pay_type[0]\n                                    },\n                                    success: (response) => {\n                                        this.orderAmount = response;\n                                        this.show = true;\n                                        if (Number(this.orderAmount.balance) >=  Number(this.orderAmount.amount)) {\n                                            this.isActivw = true;\n                                        } else {\n                                            this.isActivw = false;\n                                        }\n                                    },\n                                    error: (response) => {\n                                    },\n                                    complete: () => {\n\n                                    }\n                                });\n                            },\n                            error: (response) => {\n                            },\n                            complete: () => {\n\n                            }\n                        });\n\n                    }\n\n\n                },\n                error: (response) => {\n                },\n                complete: () => {\n\n                }\n            });\n\n        },\n        cancel:function () {\n            this.show = false\n        },\n\n        //支付方式\n        currencyWay:function (index) {\n            if(this.support.indexOf(index) === -1){\n                Toast('目前不支持此支付方式');\n                return\n            }\n            if (index == 1) {\n                this.icon = 1;\n                this.unit = \"ETH\";\n            }\n            if (index == 2) {\n                this.icon = 2;\n                this.unit = \"INE\";\n            }\n            if (index == 3) {\n                this.icon = 3;\n                this.unit = \"UTD\";\n            }\n            //更改支付方式\n            this.request({\n                url: 'api/store/order',\n                method: 'PUT',\n                data: {\n                    id: this.orderID,\n                    pay_type: index\n                },\n                success: (response) => {\n                    this.orderAmount = response;\n                    this.show = true;\n                    if (Number(this.orderAmount.balance) >= Number(this.orderAmount.amount)) {\n                        this.isActivw = true;\n                    } else {\n                        this.isActivw = false;\n                    }\n                },\n                error: (response) => {\n\n                },\n                complete: () => {\n\n                }\n            });\n            this.icon = index;\n            this.switcha=true;\n\n\n        },\n        //支付\n        defray:function () {\n            this.request({\n                url: 'api/store/order',\n                method: 'PATCH',\n                data: {\n                    id: this.orderID,\n                    pay_type: this.icon,\n\n                },\n                success: (response) => {\n                    this.$router.push({\n                        path: '/plus/shopx/order/success',\n                        query: {\n                            id: this.orderID\n                        }\n                    })\n                },\n                error: (response) => {\n                },\n                complete: () => {\n\n                }\n            });\n        },\n        // 获取输入框状态\n        handleGetStatus: function (value) {\n\n\n            if(this.code.length == 6) {\n                this.isActivw = true;\n            } else{\n                this.isActivw = false;\n            }\n        },\n        changingOver:function () {\n            this.switcha = false\n        },\n        changingTwo:function () {\n            this.switcha = true\n        }\n\n    }\n}\n\n",{"version":3,"sources":["detailed.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"detailed.vue","sourceRoot":"src/view/plus/shopx/order","sourcesContent":["<template>\n    <div class=\"detailed\">\n\n        <div class=\"shopkeeperImg\" >\n            <i class=\"bar-back van-icon van-icon-arrow-left\" style=\"font-size: 20px;\" @click=\"shopkeeperImg\"><!----></i>\n            订单详情\n        </div>\n         <div class=\"orderStatus \" v-if=\"information.state_text\">\n             <div class=\"payment\" v-if=\"information.state_text.value === 1\">\n                 <p><img src=\"../../image/order_09.png\"/> 待支付</p>\n                 <p v-if=\"this.information.pay_remain_time\">倒计时关闭 :<van-count-down :time=\"time\" /></p>\n             </div>\n             <div class=\"payment\" v-if=\"information.state_text.value === 2\">\n                 <p><img src=\"../../image/order_04.png\"/> 已取消</p>\n\n             </div>\n             <div class=\"payment\" v-if=\"information.state_text.value === 3\">\n                 <p><img src=\"../../image/order_07.png\"/> 待发货</p>\n             </div>\n             <div class=\"payment\" v-if=\"information.state_text.value === 4\">\n                 <p><img src=\"../../image/order_02.png\"/> 待收货</p>\n                 <div class=\"express\" @click=\"handexpress\">查看物流</div>\n             </div>\n             <div class=\"payment\" v-if=\"information.state_text.value === 5\">\n                 <p><img src=\"../../image/order_05.png\"/> 已完成</p>\n                 <div class=\"express\" @click=\"handexpress\">查看物流</div>\n             </div>\n             <div class=\"payment\" v-if=\"information.state_text.value === 6\">\n                 <p><img src=\"../../image/order_07.png\"/> 待发货</p>\n                 <div class=\"examine\">审核中</div>\n             </div>\n         </div>\n         <div class=\"address\" v-if=\"information.address\">\n                 <p><van-icon name=\"location-o\" />{{information.address.name}} <span>{{information.address.phone}}</span></p>\n                 <p>地址: {{information.address.region.city}} {{information.address.region.province}} {{information.address.region.region}} {{information.address.detail}}</p>\n         </div>\n            <div class=\"specifications\" v-if=\"information.goods\">\n                <img :src=\"information.goods[0].image.file.path\"  v-if=\"information.goods[0].image\"/>\n                <img v-else />\n                <div class=\"specifications-text\">\n                    <p>{{commodity}}</p>\n                    <span v-if=\"information.goods[0].goods_attr !== ''\">{{information.goods[0].goods_attr}}</span>\n                    <div class=\"price\">\n                        <p>￥{{information.goods[0].price}} </p>\n                        <p> X {{information.goods[0].total_quantity}}</p>\n                    </div>\n                </div>\n            </div>\n        <div class=\"orderNumber\">\n            <div class=\"orderNumberDate\">\n                  <p>订单编号: {{information.code}} <span  v-clipboard:copy=\"information.code\"\n                                                       v-clipboard:success=\"handleOnCopy\"\n                                                       v-clipboard:error=\"handleOnError\" >复制</span></p>\n                  <p>下单时间: {{information.created_at}}</p>\n            </div>\n            <div class=\"total\" v-if=\"information.goods\">\n                    <p>商品总额</p>\n                    <p>￥{{information.goods[0].total_price}} </p>\n            </div>\n        </div>\n        <div class=\"expressPrice\">\n            <p>配送费用</p>\n            <p>￥ {{information.express_price}}</p>\n        </div>\n        <div v-if=\"information.state_text\">\n        <div class=\"expressPrice\" v-if=\"information.state_text.value !== 1 && information.state_text.value !== 2\">\n            <p>付款方式</p>\n            <p> {{information.pay_amount}} {{information.pay_type.text}}</p>\n        </div>\n        </div>\n        <div v-if=\"information.state_text\">\n            <div class=\"bottom\" v-if=\"information.state_text.value === 1\">\n                <p>合计: <span>￥{{information.pay_price}} </span></p>\n                <div class=\"button\" @click=\"showPopup\">提交订单</div>\n            </div>\n\n            <div class=\"cancel\" v-if=\"information.state_text.value === 3\" @click=\"cancelOrder\">\n                取消订单\n            </div>\n            <div class=\"cancel\" v-if=\"information.state_text.value === 4\" @click=\"takeDelivery\" >\n                确认收货\n            </div>\n        </div>\n        <van-popup\n                v-model=\"show\"\n                round\n                position=\"bottom\"\n                :style=\"{ height: '470px' }\"\n        >\n            <!--支付提交-->\n            <div v-if=\"switcha\">\n            <div class=\"defrayal-three\">\n                <div class=\"defrayal\">\n                    <p>确认支付</p>\n                    <van-icon name=\"cross\" @click=\"cancel\" size=\"23px\" color=\"rgba(181, 181, 181, 1)\" />\n                </div>\n            </div>\n            <div class=\"amountOfPayment \">\n                <countTo :startVal='0' :decimals=\"2\" :endVal='Number(orderAmount.amount)' :duration='1'></countTo>{{unit}}\n            </div>\n            <div class=\"defrayal-one\">\n                <div class=\"identifier\">\n                    <p>订单金额</p>\n                    <p>￥<countTo :startVal='0' :decimals=\"2\" :endVal='Number(orderAmount.pay_price)' :duration='1'></countTo></p>\n                </div>\n            </div>\n            <div class=\"defrayal-one\">\n                <div class=\"identifier\">  <!-- @click=\"changingOver\"   <van-icon name=\"arrow\"  size=\"18px\" color=\"rgba(181, 181, 181, 1)\" /> -->\n                    <p>支付方式</p>\n                    <p class=\"payment-way\">{{unit}}支付</p>\n                </div>\n            </div>\n            <div class=\"defrayal-two defrayal-one\">\n                <div class=\"payoff\">\n                    <p>可用余额</p>\n                    <p><countTo :startVal='0' :decimals=\"2\" :endVal='Number(orderAmount.balance)' :duration='1'></countTo>{{unit}}</p>\n                </div>\n            </div>\n\n                <div v-if=\"isActivw\" class=\"affirm-active\" @click=\"defray\">确认支付</div>\n                <div v-else class=\"affirm\">余额不足</div>\n            </div>\n           <!--支付方式选择-->\n            <div v-else=\"switcha\">\n                <div class=\"mode-of-payment \">\n                        <van-icon name=\"arrow-left\" size=\"17px\" color=\"rgba(181, 181, 181, 1)\"  @click=\"changingTwo\"/>\n                        <p>选择付款方式</p>\n                </div>\n\n                <div class=\"currency\" @click=\"currencyWay('3')\">\n                <img src=\"../../image/utd_currency_01.png\" />\n                <div class=\"currencyText\">\n                    <p>UTD支付</p>\n                    <van-icon  name=\"success\" size=\"20px\" color=\"rgba(255, 48, 19, 1)\"  v-if=\"icon==3\" />\n                </div>\n                </div>\n\n                <div class=\"currency\" @click=\"currencyWay('2')\">\n                    <img src=\"../../image/ine_currency_03.png\" />\n                    <div class=\"currencyText\">\n                        <p>INE支付</p>\n                        <van-icon  name=\"success\" size=\"20px\" color=\"rgba(255, 48, 19, 1)\"  v-if=\"icon==2\" />\n                    </div>\n                </div>\n\n                <div class=\"currency\" @click=\"currencyWay('1')\">\n                    <img src=\"../../image/eth_currency_02.png\" />\n                    <div class=\"currencyText\">\n                        <p>ETH支付</p>\n                        <van-icon  name=\"success\" size=\"20px\" color=\"rgba(255, 48, 19, 1)\"  v-if=\"icon==1\" />\n                    </div>\n                </div>\n\n            </div>\n        </van-popup>\n\n    </div>\n</template>\n<style src=\"./detailed.css\" scoped></style>\n<script>\n    import navBar from '../../../../component/navBar';\n    import mixins from '../../../../common/mixin';\n    import { Icon ,CountDown ,Toast,Dialog  } from 'vant';\n    import countTo from 'vue-count-to';\n    export default {\n        components:{\n            navBar,\n            Icon,\n            CountDown,\n            countTo,\n            Toast,\n            Dialog\n        },\n        mixins: [mixins],\n        data: () => ({\n            time: \"\",\n            show: false,\t\t// 是否激活支付按钮\n            code:\"\",                 //短信验证码\n            codeTime: 60,                   // 手机倒计时\n            isCode: false,                  // 是否显示发生验证码\n            switcha:true,\n            isActivw: false,\t\t// 是否激活支付按钮\n            icon:3,\n            information:{},         //订单信息\n            orderAmount:{},\n            support:[],                  //支持的付款方式\n            unit: \"UTD\",      //单位\n            orderID:\"\" ,     //订单ID\n            commodity:\"\"  //商品名称\n        }),\n        created () {\n\n        },\n        beforeRouteEnter(to, from, next) {\n            next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n                sessionStorage.setItem('url_from', from.path);\n            })\n        },\n        mounted(){\n         this.orderDetailed();\n            this.orderID =this.$route.query.id;\n        },\n        methods: {\n            //查看物流\n            handexpress:function () {\n                this.$router.push({\n                    path:\"/plus/shopx/order/express\",\n                    query: {\n                        id:this.$route.query.id\n                    }\n                })\n            },\n            //确认收货\n            takeDelivery:function () {\n                this.request({\n                    url: 'api/store/orders',\n                    method: 'PATCH',\n                    data: {\n                        id:this.$route.query.id,\n                    },\n                    success: (response) => {\n                        this.orderDetailed();\n\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n\n                    }\n                });\n            },\n            //取消订单\n            cancelOrder:function () {\n                Dialog.confirm({\n                    confirmButtonColor:\"rgba(255, 49, 16, 1)\",\n                    title: '提示',\n                    message: '确认取消订单'\n                }).then(() => {\n                    this.request({\n                        url: 'api/store/order',\n                        method: 'DELETE',\n                        data: {\n                            id:this.$route.query.id,\n\n                        },\n                        success: (response) => {\n                            this.orderDetailed();\n\n                        },\n                        error: (response) => {\n                        },\n                        complete: () => {\n\n                        }\n                    });\n                }).catch(() => {\n                    // on cancel\n                });\n            },\n            // 复制成功\n            handleOnCopy: function (e) {\n                this.$toast.center('复制成功！');\n            },\n            // 复制失败\n            handleOnError: function (e) {\n                this.$toast.center('复制失败，请稍后重试');\n            },\n            //订单信息\n            orderDetailed:function () {\n                this.request({\n                    url: 'api/store/orders',\n                    method: 'POST',\n                    data: {\n                        id:this.$route.query.id,\n\n                    },\n                    success: (response) => {\n                        this.information = response;\n                        if(response.goods[0].name.length >34){\n                            this.commodity =response.goods[0].name.substring(0,34)+ \"...\"\n                        }else {\n                            this.commodity =response.goods[0].name\n                        }\n                        this.time=(Number(this.information.pay_remain_time+'000'));\n\n\n\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n\n                    }\n                });\n            },\n            shopkeeperImg:function () {\n                this.$router.push({\n                    path:\"/plus/shopx/order/orderList\"\n                })\n            },\n            //处理软键盘导致弹框里的按钮响应区域错位\n            scrollBack: function () {\n                setTimeout(function() {\n                    var scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;\n                    window.scrollTo(0, Math.max(scrollHeight - 1, 0));\n                }, 100);\n            },\n\n            showPopup:function () {\n                //获取订单是否超时\n                this.request({\n                    url: 'api/store/orders',\n                    method: 'POST',\n                    data: {\n                        id:this.$route.query.id,\n\n                    },\n                    success: (response) => {\n                        if(response.pay_remain_time == null){\n                            this.$toast.center('订单已超时无法付款！');\n                        }\n                      else {\n                            //获取订单支持币种默认选择第一个\n                            this.request({\n                                url: 'api/store/goods',\n                                method: 'POST',\n                                data: {\n                                    id:this.information.goods[0].goods_id,\n\n                                },\n                                success: (response) => {\n                                    this.support =response.detail.available_pay_type;\n                                    if (response.detail.available_pay_type[0] == 1) {\n                                        this.icon = 1;\n                                        this.unit = \"ETH\";\n                                    }\n                                    if (response.detail.available_pay_type[0] == 2) {\n                                        this.icon = 2;\n                                        this.unit = \"INE\";\n                                    }\n                                    if (response.detail.available_pay_type[0] == 3) {\n                                        this.icon = 3;\n                                        this.unit = \"UTD\";\n                                    }\n                                    //支付信息前置\n                                    this.request({\n                                        url: 'api/store/order',\n                                        method: 'PUT',\n                                        data: {\n                                            id:this.$route.query.id,\n                                            pay_type:response.detail.available_pay_type[0]\n                                        },\n                                        success: (response) => {\n                                            this.orderAmount = response;\n                                            this.show = true;\n                                            if (Number(this.orderAmount.balance) >=  Number(this.orderAmount.amount)) {\n                                                this.isActivw = true;\n                                            } else {\n                                                this.isActivw = false;\n                                            }\n                                        },\n                                        error: (response) => {\n                                        },\n                                        complete: () => {\n\n                                        }\n                                    });\n                                },\n                                error: (response) => {\n                                },\n                                complete: () => {\n\n                                }\n                            });\n\n                        }\n\n\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n\n                    }\n                });\n\n            },\n            cancel:function () {\n                this.show = false\n            },\n\n            //支付方式\n            currencyWay:function (index) {\n                if(this.support.indexOf(index) === -1){\n                    Toast('目前不支持此支付方式');\n                    return\n                }\n                if (index == 1) {\n                    this.icon = 1;\n                    this.unit = \"ETH\";\n                }\n                if (index == 2) {\n                    this.icon = 2;\n                    this.unit = \"INE\";\n                }\n                if (index == 3) {\n                    this.icon = 3;\n                    this.unit = \"UTD\";\n                }\n                //更改支付方式\n                this.request({\n                    url: 'api/store/order',\n                    method: 'PUT',\n                    data: {\n                        id: this.orderID,\n                        pay_type: index\n                    },\n                    success: (response) => {\n                        this.orderAmount = response;\n                        this.show = true;\n                        if (Number(this.orderAmount.balance) >= Number(this.orderAmount.amount)) {\n                            this.isActivw = true;\n                        } else {\n                            this.isActivw = false;\n                        }\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: () => {\n\n                    }\n                });\n                this.icon = index;\n                this.switcha=true;\n\n\n            },\n            //支付\n            defray:function () {\n                this.request({\n                    url: 'api/store/order',\n                    method: 'PATCH',\n                    data: {\n                        id: this.orderID,\n                        pay_type: this.icon,\n\n                    },\n                    success: (response) => {\n                        this.$router.push({\n                            path: '/plus/shopx/order/success',\n                            query: {\n                                id: this.orderID\n                            }\n                        })\n                    },\n                    error: (response) => {\n                    },\n                    complete: () => {\n\n                    }\n                });\n            },\n            // 获取输入框状态\n            handleGetStatus: function (value) {\n\n\n                if(this.code.length == 6) {\n                    this.isActivw = true;\n                } else{\n                    this.isActivw = false;\n                }\n            },\n            changingOver:function () {\n                this.switcha = false\n            },\n            changingTwo:function () {\n                this.switcha = true\n            }\n\n        }\n    }\n\n</script>\n\n<style scoped>\n\n</style>"]}]}