{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/src/view/wallet/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/src/view/wallet/index.vue","mtime":1572538946856},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport countTo from 'vue-count-to';\nimport mixins from '../../common/mixin';\nimport Footer from '../../component/footer/footer';\nimport barOverlay from '../../component/barOverlay/index';\n\nexport default {\n    components: {\n        Footer,\n        countTo,\n        barOverlay\n    },\n    mixins: [mixins],\n    data: () => ({\n        size: 10,\n        page: 1,\n        loading: false,         // 滚动加载参数\n        finished: false,        // 滚动加载参数\n        wallet: {},             // 初始化的数据\n        walletList: [],        // 钱包类型列表\n        isShowMenu: false,       // 是否显示菜单\n        UTDEX_WhitePaper: 'http://www.utdex.net/UTDEX_WhitePaper.pdf',     // PDF下载地址\n        isToken: '',\n    }),\n    created() {\n\n    },\n    mounted() {\n        this.isToken = this.$storage.getToken();\n        this.handleLoad();\n    },\n    // 设置路由钩子，存储页面来源\n    beforeRouteEnter(to, from, next) {\n        next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n            sessionStorage.setItem('url_from', from.path);\n        })\n    },\n    methods: {\n        // 下拉加载\n        rollLoad: function() {\n            if(this.walletList.length < this.recharge.list.total) {\n                this.page += 1;\n                this.handleLoad();\n            } else{\n                this.loading = false;\n                this.finished = true;\n            }\n        },\n        // 初始化数据\n        handleLoad: function () {\n            this.request({\n                url: 'api/assets',\n                method: 'GET',\n                data: {\n                    size: this.size,\n                    page: this.page\n                },\n                success: (response) => {\n                    this.wallet = response;\n\n                    this.wallet.total_assets = Number(this.wallet.total_assets);\n\n                    this.walletList = this.walletList.concat(this.wallet.list.data)\n                },\n                error: (response) => {\n\n                },\n                complete: (response) => {\n                    // 关闭列表滚动\n                    this.loading = false;\n                    if(this.walletList.length >= this.wallet.list.total){\n                        this.finished = true;\n                    }\n                }\n            });\n        },\n        handleType: function (title, id) {\n            this.$router.push({\n                path: '/walletType',\n                query: {\n                    title: title,\n                    id: id\n                }\n            });\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/wallet","sourcesContent":["<template>\n    <div>\n        <div class=\"chat\">\n            <div class=\"chat-back\"></div>\n            <div class=\"chat-left\"></div>\n            <div class=\"hander\">\n                <div class=\"plus-head\">\n                    <img src=\"../home/image/utd.png\">\n                    <p>钱包</p>\n                    <div>\n                        <div class=\"more\">\n                            <barOverlay />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"money\">\n                    ¥\n                    <countTo :startVal='0' :decimals=\"2\" :endVal='Number(wallet.total_assets_cny) ? Number(wallet.total_assets_cny) : 0' :duration='300'></countTo>\n                </div>\n                <p class=\"hander-about\">≈</p>\n            </div>\n            <div class=\"char-back\">\n                <div class=\"char-type\">资产</div>\n                <div class=\"chart-body\">\n                    <van-list v-model=\"loading\"\n                              :finished=\"finished\"\n                              :offset=\"100\"\n                              :immediate-check=\"false\"\n                              finished-text=\" \"\n                              @load=\"rollLoad\" >\n                        <div class=\"chart-body-item\"\n                             @click=\"handleType(item.currency.short, item.currency_id)\"\n                             v-for=\"(item, index) in walletList\"\n                             :key=\"index\" >\n                            <img class=\"icon\" v-if=\"item.currency.short == 'ETH'\" src=\"./image/money03.png\" alt=\"\">\n                            <img class=\"icon\" v-if=\"item.currency.short == 'INE'\" src=\"./image/money02.png\" alt=\"\">\n                            <img class=\"icon\" v-if=\"item.currency.short == 'UTD'\" src=\"./image/money01.png\" alt=\"\">\n                            <p class=\"title\">{{item.currency.short}}</p>\n                            <div class=\"number\">\n                                <countTo :startVal='0' :decimals=\"2\" :endVal='Number(item.total_assets)' :duration='1'></countTo>\n                                <P>\n                                    ≈¥<countTo :startVal='0' :decimals=\"2\" :endVal='Number(item.cny)' :duration='1'></countTo>\n                                </P>\n                            </div>\n                        </div>\n                    </van-list>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style src=\"./index.css\" scoped></style>\n\n<script>\n    import countTo from 'vue-count-to';\n    import mixins from '../../common/mixin';\n    import Footer from '../../component/footer/footer';\n    import barOverlay from '../../component/barOverlay/index';\n\n    export default {\n        components: {\n            Footer,\n            countTo,\n            barOverlay\n        },\n        mixins: [mixins],\n        data: () => ({\n            size: 10,\n            page: 1,\n            loading: false,         // 滚动加载参数\n            finished: false,        // 滚动加载参数\n            wallet: {},             // 初始化的数据\n            walletList: [],        // 钱包类型列表\n            isShowMenu: false,       // 是否显示菜单\n            UTDEX_WhitePaper: 'http://www.utdex.net/UTDEX_WhitePaper.pdf',     // PDF下载地址\n            isToken: '',\n        }),\n        created() {\n\n        },\n        mounted() {\n            this.isToken = this.$storage.getToken();\n            this.handleLoad();\n        },\n        // 设置路由钩子，存储页面来源\n        beforeRouteEnter(to, from, next) {\n            next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n                sessionStorage.setItem('url_from', from.path);\n            })\n        },\n        methods: {\n            // 下拉加载\n            rollLoad: function() {\n                if(this.walletList.length < this.recharge.list.total) {\n                    this.page += 1;\n                    this.handleLoad();\n                } else{\n                    this.loading = false;\n                    this.finished = true;\n                }\n            },\n            // 初始化数据\n            handleLoad: function () {\n                this.request({\n                    url: 'api/assets',\n                    method: 'GET',\n                    data: {\n                        size: this.size,\n                        page: this.page\n                    },\n                    success: (response) => {\n                        this.wallet = response;\n\n                        this.wallet.total_assets = Number(this.wallet.total_assets);\n\n                        this.walletList = this.walletList.concat(this.wallet.list.data)\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n                        // 关闭列表滚动\n                        this.loading = false;\n                        if(this.walletList.length >= this.wallet.list.total){\n                            this.finished = true;\n                        }\n                    }\n                });\n            },\n            handleType: function (title, id) {\n                this.$router.push({\n                    path: '/walletType',\n                    query: {\n                        title: title,\n                        id: id\n                    }\n                });\n            }\n        }\n    }\n</script>\n"]}]}