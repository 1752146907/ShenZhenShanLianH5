{"remainingRequest":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lirongzhi/Documents/深圳善链/src/view/plus/committee/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lirongzhi/Documents/深圳善链/src/view/plus/committee/index.vue","mtime":1572538946834},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/cache-loader/dist/cjs.js","mtime":1572539003414},{"path":"/Users/lirongzhi/Documents/深圳善链/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport { Toast, Dialog, Popup} from 'vant';\n\timport mixins from '../../../common/mixin';\n\timport navBar from '../../../component/navBar';\n    import countTo from 'vue-count-to';\n\n\texport default {\n\t\tcomponents: {\n\t\t\tnavBar,\n\t\t\tToast,\n\t\t\tDialog,\n\t\t\tPopup,\n            countTo\n\t\t},\n\t\tmixins: [mixins],\n\t\tdata: () => ({\n\t\t\tuserInfo: {},\n\t\t\tpopup: false,\t\t\t// 弹出层显示状态\n\t\t\tisActivw: false,\t\t// 是否激活支付按钮\n\t\t\tcode: '',\t\t\t\t// 验证码\n\t\t\tisCode: false,         // 是否显示发生验证码\n\t\t\tcodeTime: 60,          // 手机倒计时\n\t\t\tisCommittee: false,\t// 是否是委员会成员\n\t\t\tcommitteeCode: '',\t\t// 委员会编码\n            account:{},           //用户信息\n            income:0,             //收益\n            mobile:\"\",             //用户电话\n            order:\"\"  ,             //订单编号\n            available:\"\",           //可用余额\n            handle:true,            //判断短信验证\n            usable:\"确认支付\",       //点击按钮文字\n            committee_member:\"\"       //成员人数\n\n        }),\n\t\tcreated () {\n            this.account = decodeURIComponent((this.$route.query.account));\n            this.mobile =(JSON.parse(this.account));\n\n\n\t\t},\n\t\tmounted() {\n\t\t\tthis.handleGetUserInfo();\n\t\t},\n\t\t// 设置路由钩子，存储页面来源\n\t\tbeforeRouteEnter(to, from, next) {\n\t\t\tnext(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n\t\t\t\tsessionStorage.setItem('url_from', from.path);\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\t// 初始化用户信息\n\t\t\thandleGetUserInfo: function() {\n\n\t\t\t\tthis.request({\n\t\t\t\t\turl: 'api/committee',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: {\n\t\t\t\t\t    type:1\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\tthis.userInfo = response;\n\t\t\t\t\t\t// console.log(response);\n\n\t\t\t\t\t\tthis.committee_member = response.committee_member;\n\t\t\t\t\t\tif(response.status === 2){\n\t\t\t\t\t\t    this.income = response.profit;\n                            this.isCommittee = true;\n                            this.committeeCode = response.code;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//判断短信验证码显示隐藏\n\t\t\t\t\t\tif(Number(response.wallet.astir_currency) < Number(response.amount) ){\n                           this.handle = false;\n                           this.usable = \"可用余额不足\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n                            this.handle = true;\n                            this.usable = \"确认支付\"\n\t\t\t\t\t\t}\n                        //可用余额判断\n\t\t\t\t\t\tif(response.wallet.astir_currency === null){\n                            this.available = 0\n                        }else {\n                            this.available =  response.wallet.astir_currency;\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t},\n\t\t\t\t\terror: (response) => {\n\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: (response) => {\n\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPopup: function () {\n\t\t\t    if(this.isCommittee === false){\n                    //自治委立即抢购\n                    this.request({\n                        url: 'api/committee',\n                        method: 'POST',\n                        data: {\n                            type:1\n                        },\n                        success: (response) => {\n                        \tthis.order = response;\n                        },\n                        error: (response) => {\n\n                        },\n                        complete: (response) => {\n\n                        }\n                    });\n\t\t\t\t}\n\n\t\t\t\tthis.popup = true;\n\t\t\t},\n\t\t\thidePopup: function () {\n\t\t\t\tthis.popup = false;\n\t\t\t},\n\t\t\t// 加入自治委员会\n\t\t\thandleJoinCommittee: function () {\n                //短信验证\n                this.request({\n                    url: 'api/forgetPassword',\n                    method: 'POST',\n                    data: {\n                        mobile:this.mobile.mobile,\n                        code:this.code\n                    },\n                    success: (response) => {\n                         //自治委下单\n                        this.request({\n                            url: 'api/committee',\n                            method: 'PUT',\n                            data: {\n                                type:1\n                            },\n                            success: (response) => {\n                                this.popup = false;\n                                this.request({\n\t\t\t\t\t\t\t\t\turl: 'api/committee',\n\t\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\t\t\t\t\tthis.userInfo = response;\n\n\t\t\t\t\t\t\t\t\t\tthis.committee_member = response.committee_member;\n\t\t\t\t\t\t\t\t\t\tif(response.status === 2){\n\t\t\t\t\t\t\t\t\t\t\tthis.income = response.profit;\n\t\t\t\t\t\t\t\t\t\t\tthis.isCommittee = true;\n\t\t\t\t\t\t\t\t\t\t\tthis.committeeCode = response.code;\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.$toast.center('成功加入自治委员会！');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: (response) => {\n\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcomplete: (response) => {\n\t\t\t\t\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\n\n\n                            },\n                            error: () => {\n                                this.popup = false;\n                                this.code = '';\n                            },\n                            complete: () => {\n                            }\n                        })\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n                    }\n                });\n\t\t\t},\n\t\t\t// 获取输入框状态\n\t\t\thandleGetStatus: function (value) {\n\n\t\t\t\tif(this.code.length > 6) {\n\t\t\t\t\tthis.code = this.code.slice(0, 6)\n\t\t\t\t\tToast(\"验证码为6位数字\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(this.code.length > 0) {\n\t\t\t\t\tthis.isActivw = true;\n\t\t\t\t} else{\n\t\t\t\t\tthis.isActivw = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// book: function () {\n\t\t\t// \tconsole.log(this.userInfo.tel);\n\t\t\t// },\n\t\t\t// 发送验证码\n\t\t\thandleGetCode: function () {\n\t\t\t\tToast.loading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\tmessage: '发送中...'\n\t\t\t\t});\n\n\t\t\t\tthis.request({\n\t\t\t\t\turl: 'api/sendMobileCode',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmobile: this.mobile.mobile\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\tthis.isCode = !this.isCode;\n\n\t\t\t\t\t\tlet timer = setInterval(() => {\n\t\t\t\t\t\t\tif(this.codeTime > 0) {\n\t\t\t\t\t\t\t\tthis.codeTime = this.codeTime - 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.codeTime = 60;\n\t\t\t\t\t\t\t\tthis.isCode = !this.isCode;\n\n\t\t\t\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\t// 关闭提示\n\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t},\n\t\t\t\t\terror: (response) => {\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//橙皮书\n\t\t\thandleOrangeBook: function () {\n\t\t\t\tlocation.href = 'https://mp.weixin.qq.com/s/Q--Mdb3vdNag72pmqg7ZPA';\n\t\t\t},\n\n\t\t\t//处理软键盘导致弹框里的按钮响应区域错位\n\t\t\tscrollBack: function () {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;\n\t\t\t\t\twindow.scrollTo(0, Math.max(scrollHeight - 1, 0));\n\t\t\t\t}, 100);\n\t\t\t},\n\n\t\t\t//进入收益列表\n\t\t\thandleIncomeList: function () {\n\t\t\t\tif(!this.isCommittee){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: '/plus/committee/income',\n\t\t\t\t\tquery: {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/plus/committee","sourcesContent":["<template>\n\t<div>\n\t\t<navBar title=\"自治委员会\"/>\n\t\t<div class=\"committee\">\n\t\t\t<div class=\"committeeCard\">\n\t\t\t\t<div class=\"committeeCard-box\">\n\t\t\t\t\t<span class=\"code\" >{{isCommittee ? '编号：' + committeeCode : ''}}</span>\n\t\t\t\t\t<img v-if=\"!isCommittee\" src='./image/committeecard.png' alt=\"\">\n\t\t\t\t\t<img v-else src='./image/committeecard_active.png' alt=\"\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"lable\">\n\t\t\t\t<div class=\"lable-box\">\n\t\t\t\t\t<div class=\"lable-item has-border\" @click=\"handleOrangeBook\">\n\t\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t\t橙皮书\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"arr\">\n\t\t\t\t\t\t\t<van-icon color=\"#333333\" size=\"18px\" name=\"arrow\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"lable-item has-border\">\n\t\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t\t成员数量\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"arr\">\n\t\t\t\t\t\t\t<span>{{committee_member}}人</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"lable-item has-border\" @click=\"\">\n\t\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t\t{{isCommittee? '锁仓':'未锁仓'}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"arr\">\n\t\t\t\t\t\t\t<span><countTo :startVal='0' :decimals=\"2\" :endVal='Number(userInfo.lock_number? userInfo.lock_number:0)' :duration='1'></countTo> UTD</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"lable-item\" @click=\"handleIncomeList\">\n\t\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t\t收益\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"arr\">\n\t\t\t\t\t\t\t<span><countTo :startVal='0' :decimals=\"2\" :endVal='Number(income)' :duration='1'></countTo> UTD</span>\n\t\t\t\t\t\t\t<van-icon v-if=\"isCommittee\" color=\"#333333\" size=\"18px\" name=\"arrow\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"join\" v-if=\"!isCommittee\" @click=\"showPopup\">\n\t\t\t\t立即加入\n\t\t\t</div>\n\t\t\t<div class=\"join\" v-if=\"isCommittee\" @click=\"showPopup\">\n\t\t\t\t加入社区\n\t\t\t</div>\n\t\t</div>\n\t\t<van-popup\n\t\t\t\tv-if=\"!isCommittee\"\n\t\t\t\tv-model=\"popup\"\n\t\t\t\tround\n\t\t\t\tposition=\"bottom\"\n\t\t\t\t:style=\"{ height: '308px' }\"\n\t\t>\n\n\t\t\t<div class=\"defrayal-one\">\n\t\t\t\t<div class=\"defrayal\">\n\t\t\t\t\t<p>UTD支付</p >\n\t\t\t\t\t<p @click=\"hidePopup\">取消</p >\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"defrayal-one\">\n\t\t\t\t<div class=\"identifier\">\n\t\t\t\t\t<p>可用余额</p >\n\t\t\t\t\t<p><countTo :startVal='0' :decimals=\"2\" :endVal='Number(available)' :duration='1'></countTo>UTD</p >\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"defrayal-two defrayal-one\">\n\t\t\t\t<div class=\"payoff\">\n\t\t\t\t\t<p>支付费用</p >\n\t\t\t\t\t<p><countTo :startVal='0' :decimals=\"2\" :endVal='Number(order.amount)' :duration='1'></countTo> UTD</p >\n\t\t\t\t</div>\n\t\t\t\t<div class=\"identifying\" v-if=\"handle\">\n\t\t\t\t\t<input type=\"text\" @blur=\"scrollBack\" @input=\"handleGetStatus\" v-model=\"code\" placeholder=\"请输入验证码\"/>\n\t\t\t\t\t<p class=\"text\" @click=\"handleGetCode\" v-if=\"!isCode\">获取验证码</p>\n\t\t\t\t\t<p class=\"identifying-right\" v-else>{{codeTime}}S</p>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<div class=\"affirm\" v-if=\"!isActivw\">{{usable}}</div>\n\t\t\t<div class=\"affirm-active\" v-else @click=\"handleJoinCommittee\">确认支付</div>\n\n\t\t</van-popup>\n\t\t<Popup v-model=\"popup\" v-if=\"isCommittee\" class=\"community-info\">\n\t\t\t<img src=\"./image/communityinfo.png\" alt=\"\">\n\t\t</Popup>\n\t</div>\n</template>\n\n<style src=\"./index.css\" scoped></style>\n\n<script>\n\timport { Toast, Dialog, Popup} from 'vant';\n\timport mixins from '../../../common/mixin';\n\timport navBar from '../../../component/navBar';\n    import countTo from 'vue-count-to';\n\n\texport default {\n\t\tcomponents: {\n\t\t\tnavBar,\n\t\t\tToast,\n\t\t\tDialog,\n\t\t\tPopup,\n            countTo\n\t\t},\n\t\tmixins: [mixins],\n\t\tdata: () => ({\n\t\t\tuserInfo: {},\n\t\t\tpopup: false,\t\t\t// 弹出层显示状态\n\t\t\tisActivw: false,\t\t// 是否激活支付按钮\n\t\t\tcode: '',\t\t\t\t// 验证码\n\t\t\tisCode: false,         // 是否显示发生验证码\n\t\t\tcodeTime: 60,          // 手机倒计时\n\t\t\tisCommittee: false,\t// 是否是委员会成员\n\t\t\tcommitteeCode: '',\t\t// 委员会编码\n            account:{},           //用户信息\n            income:0,             //收益\n            mobile:\"\",             //用户电话\n            order:\"\"  ,             //订单编号\n            available:\"\",           //可用余额\n            handle:true,            //判断短信验证\n            usable:\"确认支付\",       //点击按钮文字\n            committee_member:\"\"       //成员人数\n\n        }),\n\t\tcreated () {\n            this.account = decodeURIComponent((this.$route.query.account));\n            this.mobile =(JSON.parse(this.account));\n\n\n\t\t},\n\t\tmounted() {\n\t\t\tthis.handleGetUserInfo();\n\t\t},\n\t\t// 设置路由钩子，存储页面来源\n\t\tbeforeRouteEnter(to, from, next) {\n\t\t\tnext(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\n\t\t\t\tsessionStorage.setItem('url_from', from.path);\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\t// 初始化用户信息\n\t\t\thandleGetUserInfo: function() {\n\n\t\t\t\tthis.request({\n\t\t\t\t\turl: 'api/committee',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: {\n\t\t\t\t\t    type:1\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\tthis.userInfo = response;\n\t\t\t\t\t\t// console.log(response);\n\n\t\t\t\t\t\tthis.committee_member = response.committee_member;\n\t\t\t\t\t\tif(response.status === 2){\n\t\t\t\t\t\t    this.income = response.profit;\n                            this.isCommittee = true;\n                            this.committeeCode = response.code;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//判断短信验证码显示隐藏\n\t\t\t\t\t\tif(Number(response.wallet.astir_currency) < Number(response.amount) ){\n                           this.handle = false;\n                           this.usable = \"可用余额不足\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n                            this.handle = true;\n                            this.usable = \"确认支付\"\n\t\t\t\t\t\t}\n                        //可用余额判断\n\t\t\t\t\t\tif(response.wallet.astir_currency === null){\n                            this.available = 0\n                        }else {\n                            this.available =  response.wallet.astir_currency;\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t},\n\t\t\t\t\terror: (response) => {\n\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: (response) => {\n\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPopup: function () {\n\t\t\t    if(this.isCommittee === false){\n                    //自治委立即抢购\n                    this.request({\n                        url: 'api/committee',\n                        method: 'POST',\n                        data: {\n                            type:1\n                        },\n                        success: (response) => {\n                        \tthis.order = response;\n                        },\n                        error: (response) => {\n\n                        },\n                        complete: (response) => {\n\n                        }\n                    });\n\t\t\t\t}\n\n\t\t\t\tthis.popup = true;\n\t\t\t},\n\t\t\thidePopup: function () {\n\t\t\t\tthis.popup = false;\n\t\t\t},\n\t\t\t// 加入自治委员会\n\t\t\thandleJoinCommittee: function () {\n                //短信验证\n                this.request({\n                    url: 'api/forgetPassword',\n                    method: 'POST',\n                    data: {\n                        mobile:this.mobile.mobile,\n                        code:this.code\n                    },\n                    success: (response) => {\n                         //自治委下单\n                        this.request({\n                            url: 'api/committee',\n                            method: 'PUT',\n                            data: {\n                                type:1\n                            },\n                            success: (response) => {\n                                this.popup = false;\n                                this.request({\n\t\t\t\t\t\t\t\t\turl: 'api/committee',\n\t\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\ttype:1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\t\t\t\t\tthis.userInfo = response;\n\n\t\t\t\t\t\t\t\t\t\tthis.committee_member = response.committee_member;\n\t\t\t\t\t\t\t\t\t\tif(response.status === 2){\n\t\t\t\t\t\t\t\t\t\t\tthis.income = response.profit;\n\t\t\t\t\t\t\t\t\t\t\tthis.isCommittee = true;\n\t\t\t\t\t\t\t\t\t\t\tthis.committeeCode = response.code;\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.$toast.center('成功加入自治委员会！');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: (response) => {\n\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcomplete: (response) => {\n\t\t\t\t\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\n\n\n                            },\n                            error: () => {\n                                this.popup = false;\n                                this.code = '';\n                            },\n                            complete: () => {\n                            }\n                        })\n                    },\n                    error: (response) => {\n\n                    },\n                    complete: (response) => {\n                    }\n                });\n\t\t\t},\n\t\t\t// 获取输入框状态\n\t\t\thandleGetStatus: function (value) {\n\n\t\t\t\tif(this.code.length > 6) {\n\t\t\t\t\tthis.code = this.code.slice(0, 6)\n\t\t\t\t\tToast(\"验证码为6位数字\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(this.code.length > 0) {\n\t\t\t\t\tthis.isActivw = true;\n\t\t\t\t} else{\n\t\t\t\t\tthis.isActivw = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// book: function () {\n\t\t\t// \tconsole.log(this.userInfo.tel);\n\t\t\t// },\n\t\t\t// 发送验证码\n\t\t\thandleGetCode: function () {\n\t\t\t\tToast.loading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\tmessage: '发送中...'\n\t\t\t\t});\n\n\t\t\t\tthis.request({\n\t\t\t\t\turl: 'api/sendMobileCode',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmobile: this.mobile.mobile\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (response) => {\n\t\t\t\t\t\tthis.isCode = !this.isCode;\n\n\t\t\t\t\t\tlet timer = setInterval(() => {\n\t\t\t\t\t\t\tif(this.codeTime > 0) {\n\t\t\t\t\t\t\t\tthis.codeTime = this.codeTime - 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.codeTime = 60;\n\t\t\t\t\t\t\t\tthis.isCode = !this.isCode;\n\n\t\t\t\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\t// 关闭提示\n\t\t\t\t\t\tToast.clear();\n\t\t\t\t\t},\n\t\t\t\t\terror: (response) => {\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//橙皮书\n\t\t\thandleOrangeBook: function () {\n\t\t\t\tlocation.href = 'https://mp.weixin.qq.com/s/Q--Mdb3vdNag72pmqg7ZPA';\n\t\t\t},\n\n\t\t\t//处理软键盘导致弹框里的按钮响应区域错位\n\t\t\tscrollBack: function () {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;\n\t\t\t\t\twindow.scrollTo(0, Math.max(scrollHeight - 1, 0));\n\t\t\t\t}, 100);\n\t\t\t},\n\n\t\t\t//进入收益列表\n\t\t\thandleIncomeList: function () {\n\t\t\t\tif(!this.isCommittee){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: '/plus/committee/income',\n\t\t\t\t\tquery: {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n"]}]}